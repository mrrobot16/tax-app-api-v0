{
    "name": "irs-copilot-api",
    "license": "MIT",
    "scripts": {
        "start": "yarn doppler:watch",
        "restart": "yarn kill:ports && yarn doppler", 
        "dev": "uvicorn app.main:app --reload",
        "doppler:dev": "doppler run -- yarn dev",
        "prod": "yarn prod:linux",
        "doppler": "doppler run -- yarn prod:linux:reload",
        "doppler:watch": "doppler run --watch -- yarn prod:linux:reload",
        "prod:linux": "gunicorn -w 4 -k uvicorn.workers.UvicornWorker app.main:app --bind 0.0.0.0:8000 --timeout 120",
        "prod:linux:reload": "yarn prod:linux --reload",
        "session": "screen -S taxapp_api_session",
        "reattach": "screen -r taxapp_api_session",
        "heroku": "gunicorn -w 4 -k uvicorn.workers.UvicornWorker app.main:app",
        "list:ports": "sudo lsof -i :8000",
        "kill:ports": "sudo lsof -t -i:8000 | xargs kill",
        "push": "yarn push:dev",
        "push:prod": "git push origin main",
        "push:dev": "git push origin dev",
        "pull": "yarn pull:dev",
        "pull:dev": "git pull origin dev",
        "pull:prod": "git pull origin main",
        "deploy": "git push heroku dev:master",
        "install": "pip install -r requirements.txt",
        "logs":"heroku logs --tail",
        "test": "yarn test:all",
        "test:all": "yarn test:app && yarn test:db && yarn test:models && yarn test:services && yarn test:controllers",
        "test:app": "PYTHONPATH=./app pytest tests/test_app.py",
        "test:db": "PYTHONPATH=./app pytest tests/unit/db",
        "test:models": "PYTHONPATH=./app pytest tests/unit/models",
        "test:controllers": "PYTHONPATH=./app pytest tests/integrations/controllers",
        "test:services": "PYTHONPATH=./app pytest tests/unit/services"
    }
}